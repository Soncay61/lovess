<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamWeb - Profesyonel √ñnizleme</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div id="startOverlay">
        <button class="start-btn" id="startBtn">Dokun ve Ba≈üla ‚ù§Ô∏è</button>
    </div>

    <div class="background-overlay"></div>

    <div class="container" id="mainCard">
        <div class="card" data-aos="zoom-in" data-aos-duration="1200">
            <div class="content">
                <div id="iconWrapper" class="ring-animation" data-aos="fade-down" data-aos-delay="400">
                    </div>
                
                <h1 class="title" id="mainTitle"></h1>
                <p class="subtitle" id="mainSubtitle"></p>
            </div>
            
            <div class="buttons" id="btnGroup">
                <button class="btnYes" id="yesButton">EVET</button>
                <button class="btnNo" id="noButton">HAYIR</button>
            </div>
        </div>
    </div> 

    <div class="gallery-container" id="galleryLayer" style="display: none;">
        <div class="box">
            <div class="dream" id="photoGallery"></div>
        </div>
    </div>
    
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });

        // --- DAKTƒ∞LO EFEKTƒ∞ FONKSƒ∞YONU ---
        function typeWriter(elementId, text, speed, callback) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    if (callback) callback();
                }
            }
            type();
        }

        // HIZLI Y√úKLENME ƒ∞√áƒ∞N
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const type = urlParams.get('type') || 'love'; 
            const isBirthday = (type === 'birthday');

            // --- DEMO AYARLARI ---
            const config = {
                title: isBirthday ? "ƒ∞yi Ki Doƒüdun Prenses!" : "Benimle Evlenir Misin?",
                subtitle: isBirthday ? "Yeni ya≈üƒ±n sana huzur ve mutluluk getirsin..." : "√ñmr√ºm√ºn geri kalanƒ± olur musun?",
                yesMsg: isBirthday ? "ƒ∞yi Ki Varsƒ±n Sevgilim! üéâ" : "Sonsuza kadar EVET! ‚ù§Ô∏è",
                btnYesText: isBirthday ? "KUTLA üéâ" : "EVET üíç",
                btnNoText: isBirthday ? "HAYIR üéÇ" : "HAYIR üíî",
                emoji: isBirthday ? 'üéâ' : '‚ù§Ô∏è',
                iconHtml: isBirthday ? 
                    `<div class="cake-wrapper">
                        <div class="flame"></div>
                        <img src="https://i.ibb.co/2Z7fVfM/cake-icon.png" class="cake-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2682/2682431.png'">
                    </div>` : 
                    `<img src="https://pngimg.com/uploads/ring/ring_PNG26.png" class="ring-img">`
            };

            window.addEventListener('DOMContentLoaded', () => {
                const mainTitle = document.getElementById('mainTitle');
                const mainSubtitle = document.getElementById('mainSubtitle');
                const iconWrapper = document.getElementById('iconWrapper');
                const yesButton = document.getElementById('yesButton');
                const noButton = document.getElementById('noButton');
                const photoGallery = document.getElementById('photoGallery');
                const card = document.querySelector('.card');

                // ƒ∞konu ve Butonlarƒ± Yerle≈ütir
                iconWrapper.innerHTML = config.iconHtml;
                yesButton.innerHTML = config.btnYesText;
                noButton.innerHTML = config.btnNoText;

                // Galeriyi Doldur (Demo G√∂rselleri)
                for (let i = 1; i <= 8; i++) {
                    const span = document.createElement('span');
                    span.style.setProperty('--i', i);
                    const img = document.createElement('img');
                    img.src = `https://picsum.photos/400/600?random=${i + (isBirthday ? 20 : 80)}`;
                    span.appendChild(img);
                    photoGallery.appendChild(span);
                }

                // --- Gƒ∞Rƒ∞≈û EKRANI (START BUTTON) ---
                document.getElementById('startBtn').addEventListener('click', () => {
                    // Demo olduƒüu i√ßin ses dosyasƒ± yoksa bo≈ü ge√ßer
                    // const audio = new Audio('demo-music.mp3'); audio.play();

                    const overlay = document.getElementById('startOverlay');
                    overlay.style.opacity = '0';
                    setTimeout(() => overlay.style.display = 'none', 1000);

                    // Daktilo Efekti Ba≈ülar
                    typeWriter("mainTitle", config.title, 90, () => {
                        typeWriter("mainSubtitle", config.subtitle, 50, () => {
                            document.getElementById('btnGroup').style.opacity = '1';
                        });
                    });
                });

                // --- TROLL BUTON MANTIƒûI ---
                let escapeCount = 0;
                const noTexts = isBirthday ? 
                    ["Emin misin?", "Pasta eridi!", "Yapma be!", "Hadi √ºfle!", "Tamam pes :)"] : 
                    ["Emin misin?", "Bir daha d√º≈ü√ºn?", "Son kararƒ±n mƒ±?", "Kƒ±rma kalbimi...", "Basamazsƒ±n ki :)"];

                function moveButton() {
                    if (escapeCount < 5) {
                        noButton.innerText = noTexts[escapeCount];
                        const rect = card.getBoundingClientRect();
                        const x = Math.max(10, Math.random() * (rect.width - 120));
                        const y = Math.max(10, Math.random() * (rect.height - 50));
                        
                        noButton.style.position = 'absolute';
                        noButton.style.left = x + 'px';
                        noButton.style.top = y + 'px';
                        escapeCount++;
                    } else {
                        noButton.style.display = 'none';
                        mainTitle.innerText = isBirthday ? "Pastayƒ± √ºfle artƒ±k! üéÇ" : "Naz yapma prenses! üòâ";
                    }
                }

                noButton.addEventListener('mouseover', moveButton);
                noButton.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });

                // --- EVET BUTONU ---
                yesButton.addEventListener('click', () => {
                    mainTitle.innerText = config.yesMsg;
                    mainSubtitle.textContent = 'Seninle bir √∂m√ºr boyu...';
                    document.getElementById('btnGroup').style.display = 'none';
                    
                    startConfetti(config.emoji);

                    setTimeout(() => {
                        document.getElementById('mainCard').style.opacity = "0";
                        const galleryCont = document.getElementById('galleryLayer');
                        galleryCont.style.display = 'flex'; 
                        setTimeout(() => { 
                            galleryCont.style.opacity = "1"; 
                            document.getElementById('mainCard').style.display = "none"; 
                        }, 500);
                    }, 3000);
                });

                function startConfetti(char) { 
                    for(let i=0; i<80; i++) {
                        setTimeout(() => { 
                            const h = document.createElement('div'); 
                            h.className='heart'; 
                            h.innerHTML= Math.random() > 0.5 ? char : '‚ú®'; 
                            h.style.left = Math.random() * 100 + 'vw';
                            const duration = Math.random() * 3 + 2; 
                            h.style.animationDuration = duration + 's';
                            h.style.fontSize = Math.random() * 20 + 20 + 'px';
                            document.body.appendChild(h); 
                            setTimeout(() => h.remove(), duration * 1000);
                        }, i * 80); 
                    } 
                }
            });
        })();
    </script>
</body>
</html>
